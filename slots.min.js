/*jslint browser: true, nomen: true */var slots=function(a,b){function c(a){this.slots=a||[]}function d(a){this.obj=a,this._events=a.events,this._my_events={}}function e(){this._events={}}"use strict",c.prototype.combine=function(a){this.slots.push(a)},c.prototype.remove=function(){a.each(this.slots,function(a){a.remove()}),this.slots=[]},b.Manager=c,d.prototype.on=function(a,b){this._events[a]=this._events[a]||[],this._my_events[a]=this._my_events[a]||[],this._events[a].push(b),this._my_events[a].push(b)},d.prototype.remove=function(){var b=this;this.obj._events===this._events&&a.each(this._my_events,function(c,d){b._events[d]=a.difference(b._events[d],c)}),this.on=undefined,this.remove=undefined},d.prototype.combine=function(a){return new c([this,a])},d.prototype.manager=function(){return new c([this])},b.Slot=d,e.prototype.on=function(a,b){var c=new d(this);return c.call(this,a,b)},e.prototype.removeEvents=function(b,c){return typeof b=="undefined"?this._events={}:typeof c=="undefined"?delete this._events[b]:this._events[b]=a.filter(this._events[b],function(a){return a!==c}),this},e.proxy=function(a){},e.punch=function(a){},b.Emitter=e}(typeof this._!="undefined"?this._:require("underscore"),typeof exports=="undefined"?this:exports);